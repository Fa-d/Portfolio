import{g as F}from"./@react-three-DY1ZwaEh.js";import{i as x,d as I}from"./graphology-utils-BVTRd0vf.js";import{n as W}from"./graphology-indices-CuOSycCu.js";var G=x,P=I,$=W.WeightedNeighborhoodIndex,j={nodePagerankAttribute:"pagerank",getEdgeWeight:"weight",alpha:.85,maxIterations:100,tolerance:1e-6};function A(b,t,r){if(!G(t))throw new Error("graphology-metrics/centrality/pagerank: the given graph is not a valid graphology instance.");r=P(r,j);var l=r.alpha,u=r.maxIterations,v=r.tolerance,h=r.nodePagerankAttribute,i=t.order,g=1/i,a=new $(t,r.getEdgeWeight),e,n,s,y,o=new Float64Array(t.order),m=new Float64Array(a.weights.length),p=[];for(e=0;e<i;e++)for(o[e]=g,s=a.starts[e+1],y=a.outDegrees[e],y===0&&p.push(e),n=a.starts[e];n<s;n++)m[n]=a.weights[n]/y;for(var D=0,w=0,c,k,f,E=!1;D<u;){for(f=o,o=new Float64Array(t.order),c=0,e=0,s=p.length;e<s;e++)c+=f[p[e]];for(c*=l,e=0;e<i;e++){for(s=a.starts[e+1],n=a.starts[e];n<s;n++)k=a.neighborhood[n],o[k]+=l*f[e]*m[n];o[e]+=c*g+(1-l)*g}for(w=0,e=0;e<i;e++)w+=Math.abs(o[e]-f[e]);if(w<i*v){E=!0;break}D++}if(!E)throw Error("graphology-metrics/centrality/pagerank: failed to converge.");if(b){a.assign(h,o);return}return a.collect(o)}var C=A.bind(null,!1);C.assign=A.bind(null,!0);var L=C;const q=F(L);var S=x;function d(b,t,r,l){var u=t+"Centrality";if(!S(r))throw new Error("graphology-centrality/"+u+": the given graph is not a valid graphology instance.");if(t!=="degree"&&r.type==="undirected")throw new Error("graphology-centrality/"+u+": cannot compute "+t+" centrality on an undirected graph.");l=l||{};var v=l.nodeCentralityAttribute||u,h=r.order-1,i=r[t].bind(r);if(b){r.updateEachNodeAttributes(function(a,e){return e[v]=i(a)/h,e},{attributes:[v]});return}var g={};return r.forEachNode(function(a){g[a]=i(a)/h}),g}var N=d.bind(null,!1,"degree"),_=d.bind(null,!1,"inDegree"),z=d.bind(null,!1,"outDegree");N.assign=d.bind(null,!0,"degree");_.assign=d.bind(null,!0,"inDegree");z.assign=d.bind(null,!0,"outDegree");var B=N;export{B as d,q as p};
